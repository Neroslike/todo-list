import { Storage } from "./storageManagement";

class Priority {
  #name;
  #number;
  color;

  static #prioritiesArray = [
    new Priority("Urgent", 1, "#E81616"),
    new Priority("High", 2, "#EF5513"),
    new Priority("Medium", 3, "#F3DD11"),
    new Priority("Low", 4, "#22C51F"),
    new Priority("Optional", 5, "#2336E0"),
  ];

  static #defaultColours = [
    "#E81616",
    "#EF5513",
    "#F3DD11",
    "#22C51F",
    "#2336E0",
  ];

  static resetColours() {
    Priority.#prioritiesArray.forEach((priority, index) => {
      priority.color = Priority.#defaultColours[index];
    });
    Storage.savePriorityData();
  }

  static get priorities() {
    return [...Priority.#prioritiesArray];
  }

  static priority(number) {
    return Priority.#prioritiesArray[number - 1];
  }

  constructor(name, number, color) {
    this.#name = name;
    this.#number = number;
    this.color = color;
  }

  get name() {
    return this.#name;
  }

  get number() {
    return this.#number;
  }

  set color(color) {
    this.color = color;
  }
}

export default Priority;
